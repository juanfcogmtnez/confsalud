{% extends "basedash.html" %}
{% block title %}Tareas{% endblock %}
{% block menu %}

<ul class="nav nav-pills">
  <li class="nav-item dropdown" id="menu">
    <a class="nav-link dropdown-toggle" data-toggle="dropdown">Proyecto plantilla: <span id="menu1st">{{proy}}</span></a><div id="selbase" class="dropdown-menu"></div>
  </li>
  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" data-toggle="dropdown">Proyecto construcci√≥n: <span id="menu2nd">{{cons}}</span></a><div id="selbuild" class="dropdown-menu"></div>
  </li>
</ul>

{% endblock %}
{% block content %}

<h2>JsTree Table Demo</h2>
This page gives a demo for using the excellent <a href="http://www.jstree.com">jstree</a> with a table.
The table is implemented as a standard jstree plugin.
Include jquery and jstree, and the plugin library jstreetable.js, and include it as a plugin. 
Look at the source to this page to see how it is done.
<p>
  This example demonstrates advanced features including:
</p>
<script>
    // tree data
var data;
data = [{
  text: "Products",
  data: {},
  children: [{
    text: "Fruit",
    data: {}, 
    children:[
      {text: "Apple", data: {price: 0.1, quantity: 20}},
      {text: "Banana", data: {price: 0.2, quantity: 31}},
      {text: "Grapes", data: {price: 1.99, quantity: 34}},
      {text: "Mango", data: {price: 0.5, quantity: 8}},
      {text: "Melon", data: {price: 0.8, quantity: 4}},
      {text: "Pear", data: {price: 0.1, quantity: 30}},
      {text: "Strawberry", data: {price: 0.15, quantity: 32}}
    ],
    'state': {'opened': true}
  }, {
    text: "Vegetables",
    data: {}, 
    children:[
      {text: "Aubergine", data: {price: 0.5, quantity: 8}},
      {text: "Broccoli", data: {price: 0.4, quantity: 22}},
      {text: "Carrot", data: {price: 0.1, quantity: 32}},
      {text: "Cauliflower", data: {price: 0.45, quantity: 18}},
      {text: "Potato", data: {price: 0.2, quantity: 38}}
    ]
  }],
  'state': {'opened': true}
}];

// load jstree
$("div#jstree").jstree({
  plugins: ["table","dnd","contextmenu","sort"],
  core: {
    data: data
  },
  // configure tree table
  table: {
    columns: [
      {width: 200, header: "Name"},
      {width: 150, value: "price", header: "Price", format: function(v) {if (v){ return '$'+v.toFixed(2) }}},
      {width: 150, value: "quantity", header: "Qty"}
    ],
    resizable: true,
    draggable: true,
    contextmenu: true,
    width: 500,
    height: 300
  }
});
</script>
<div id="jstree"></div>
{% endblock %}